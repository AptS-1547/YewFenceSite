<!DOCTYPE html>
<html lang="zh-CN" data-theme="light">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>登录</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />
  <style>
    .login-wrapper { min-height: calc(100vh - var(--header--height)); display: grid; place-items: center; background: var(--surface-bg); }
    .login-card {
      width: min(420px, 92vw);
      background: var(--color-bg);
      border: 1px solid var(--color-border);
      border-radius: var(--radius-md);
      padding: 1.25rem 1.25rem 1.35rem;
      box-shadow: var(--shadow-sm);
    }
    .login-card h1 { margin: 0 0 .75rem; font-size: 1.35rem; }
    .login-card .field { display: grid; gap: .35rem; margin: .85rem 0; }
    .login-card label { font-size: .9rem; color: var(--color-text-alt); }
    .login-card input[type="password"], .login-card input[type="text"] {
      border: 1px solid var(--color-border); border-radius: var(--radius-sm); padding: .6rem .65rem; background: var(--color-bg); color: var(--color-text);
    }
    .login-card .actions { display:flex; gap:.6rem; justify-content:flex-end; margin-top:.85rem; }
    .muted { color: var(--color-text-alt); font-size: .8rem; }
    .error { color: var(--color-danger); font-size: .85rem; margin-top: .25rem; min-height: 1.2em; }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="container nav-wrapper">
      <a class="logo" href="index.html">YewFence's <span>Site</span></a>
      <nav id="mainNav" class="nav" aria-label="主导航">
        <button class="nav-toggle" id="navToggle" aria-expanded="false" aria-controls="navMenu">☰</button>
        <ul id="navMenu" class="nav-menu">
          <li><a href="index.html">首页</a></li>
          <li><button id="themeSwitcher" class="theme-btn" aria-label="切换主题">🌙</button></li>
        </ul>
      </nav>
    </div>
  </header>

  <main class="login-wrapper">
    <section class="login-card" aria-label="登录面板">
      <h1>登录</h1>
      <p class="muted">本页仅用于站点维护人员使用。</p>
      <form method="post" action="/login" novalidate>
        <div class="field">
          <label for="password">密码</label>
          <input id="password" name="password" type="password" placeholder="输入密码" autocomplete="current-password" required autofocus />
          <div id="error" class="error">
            {% if error %}{{ error }}{% endif %}
            {% with messages = get_flashed_messages() %}
              {% if messages %}{{ messages[0] }}{% endif %}
            {% endwith %}
          </div>
        </div>
        <div class="actions">
          <a class="btn" href="index.html">返回</a>
          <button class="btn primary" type="submit">登录</button>
        </div>
      </form>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-inner">
      <p>© <span id="year"></span> YewFence.</p>
    </div>
  </footer>

  <button id="backToTop" aria-label="返回顶部" class="back-to-top" hidden>↑</button>

  <script src="{{ url_for('static', filename='js/main.js') }}"></script>
</body>
</html>